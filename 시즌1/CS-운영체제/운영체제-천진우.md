# 운영체제

### 프로세스와 스레드의 차이를 설명해보세요.
프로세스는 메모리 상에서 실행되는 프로그램을 말한다. 스레드는 이 프로세스 내부에서 동작하는 실행 흐름들이다.
프로세스의 경우 다른 프로세서들과 데이터를 공유하지 않지만, 스레드의 경우 스택을 제외한 모든 영역을 동일한 프로세서 내에서 공유한다.

### 컨텍스트 스위칭에 대해 설명해보세요.
사실 CPU 하나의 코어에서는 하나의 동작만 실행이 가능하다. 그렇지만 여러개의 프로세스와 스레드가 실행 가능한 이유는 스케줄링 기법을 통해 각 작업을 적절하게 교체하면서 실행하기 때문이다. 이것을 컨텍스트 스위칭이라고 한다.
이 컨텍스트 스위칭도 '프로세스 컨텍스트 스위칭'과 '스레드 컨텍스트 스위칭'으로 나뉘는데, 프로세스 컨텍스트 스위칭은 공유되는 데이터가 없기 때문에 캐싱을 활용하지 못한다.
<details>
<summary>추가설명</summary>

[스케줄링 알고리즘들에 대해서 잘 정리한 글](https://reakwon.tistory.com/132)
</details> 

### 멀티스레드 프로그래밍에 대해 설명해보세요.
멀티스레드 프로그래밍을 하게 되면 정해진 자원을 효율적 배분하여 사용할 수 있다. 효율적인 리소스 분배로 작업 효율을 높이거나 응답이나 대기 시간을 최소화 할 수 있다는 장점이 있다. 또한 독립적으로 실행되는 모듈로 분리하여 단순한 구조를 유지할 수 있다. 그렇지만 소프트웨어 전체적인 관점에서 봤을때 순차적인 실행이 일어나지 않기 때문에 디버깅에 까다로움이 있다.

<details>
<summary>추가설명</summary>

효율적인 리소스 분배: 유휴중인 시스템 리소스는 모니터링을 통해서 예측 가능하다. 이런 리소스들을 최대한 활용하기 위해 Thead를 확장시키는 등의 방식을 사용한다. Tomcat 의 Thread Pool 또는 Database의 Connection Pool이 이에 해당한다.

응답이나 대기 시간을 최소화: HTTP 는 요청과 응답이 있는데, 종종 서버 처리가 굉장히 오래 걸리지만 즉각적인 응답 결과가 클라이언트에게 중요하지 않은 경우가 있다. 이런 경우에는 특정 시점에 바로 응답을 주고, 비동기로 남은 작업을 처리하여 클라이언트에게 빠른 응답을 내려줌과 동시에 Servlet Thread Pool을 절약하는 방식을 채택할 수 있다.

</details> 

### 뮤텍스(mutex)와 세마포어(Semaphores)의 차이에 대해 설명해보세요.
세마포어아 뮤텍스는 임계 영역(critical section)에서의 동기화를 위한 방법이다. 뮤텍스는 하나의 스레드만이 임계 영역에 접근할 수 있도록 해당 영역을 잠그는(locking) 방식입니다. 또한 해당 영역을 잠근 스레드만 잠금을 풀 수 있다. 그리고 세마포어는 스레드가 미리 신호(signaling)을 보내서 해당 임계 영역에 접근을 할 수 있다. 그리고 여러개의 프로세서가 접근 가능합니다. 그러므로 해당 영역의 동기화 대상이 1개 이상이면 세마포어를, 하나라면 뮤텍스를 사용합니다.

<details>
<summary>추가설명</summary>

[추가 설명 자료](https://jwprogramming.tistory.com/13)

세마포어는 리소스의 상태를 나타내는 간단한 카운터로 생각할 수 있습니다. 일반적으로 비교적 긴 시간을 확보하는 리소스에 대해 이용하게 되며, 유닉스 시스템의 프로그래밍에서 세마포어는 운영체제의 리소스를 경쟁적으로 사용하는 다중 프로세스에서 행동을 조정하거나 또는 동기화 시키는 기술입니다. 

즉 뮤텍스는 공유 불가능한 영역을 동시 사용을 '막는 용도'이고, 세마포어는 공유 자원에 대한 접근을 '제한하는 용도'입니다.

</details> 


### Thread-safe 하다는 의미와 설계하는 법을 설명해보세요.(java)

Thread-safe 하다는 말의 의미는 여러 스레드가 공유하는 자원에 대해 데이터 정합성 등 동시성 문제로부터 안전한 경우를 말합니다. 자바에서는 이를 보장하기 위해 동시성을 보장해주는 Concurrent 자료형을 제공하거나, @Synchronize 어노테이션을 사용합니다.

<details>
<summary>추가설명</summary>

[@Synchronize 에 대한 설명](https://limkydev.tistory.com/64)
@Synchronize 는 mutex 방식으로, 임계 영역 매서드를 지정해서 처리한다.

</details> 


### 교착상태(Deadlock)가 무엇인지와 어떻게 해결하는지에 대해서 설명해보세요.

교착상태는 여러개의 프로세스가 하나의 자원에 대해 무한한 대기에 빠지는 것을 뜻한다. 상호배제, 점유대기, 비선점, 순환대기 총 네가지의 발생조건을 모두 충족시켰을때 발생한다.
이를 해결하기 위해서는 해당 네가지 발생 조건 중 하나라도 해결하여 예방하거나, 사전에 미리 자원 요구량을 파악하여 회피하는 방법, 교착상태 발생 후에 해결하는 방식이 있다.

<details>
<summary>추가설명</summary>

[추가 설명 자료](https://chanhuiseok.github.io/posts/cs-2/)

교착상태가 일어나려면, 다음 네가지 조건이 모두 만족해야 한다.

상호 배제
- 한 번에 프로세스 하나만 해당 자원을 사용할 수 있다. 사용 중인 자원을 다른 프로세스가 사용하려면 요청한 자원이 해제될 때까지 기다려야 한다.

점유 대기
- 자원을 최소한 하나 보유하고, 다른 프로세스에 할당된 자원을 점유하기 위해 대기하는 프로세스가 존재해야 한다.

비선점
- 이미 할당된 자원을 강제로 빼앗을 수 없다(비선점).

순환 대기
- 대기 프로세스의 집합이 순환 형태로 자원을 대기하고 있어야 한다.

사전에 미리 자원 요구량을 파악하여 회피하는 방법은 다른 프로세서가 요구하는 자원 요구량을 미리 알 수 있는 경우에만 해당하는 해결법이다.

</details> 

### 동기(synchronous)와 비동기(asynchronous)의 차이를 설명해보세요.

동기는 코드의 순차적인 실행을 보장하기 때문에 한 번에 한가지 일만 처리하는 방식이고, 비동기 방식은 코드의 순차적인 실행을 하지 않고, 한 번에 여러개의 작업을 처리하는 방식이다. 이런 비동기 방식의 결과를 받아오는 것을 '콜백'이라고 부르며, 콜백함수나 콜백API로 구현되기도 한다.

<details>
<summary>추가설명</summary>

[추가 설명 자료](https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC)
</details> 

### 동기적 프로그래밍과 비동기적 프로그래밍의 차이를 설명해보세요.

동기적 프로그래밍은 순차적으로 실행되는 일반적인 방식을 말한다. 그리고 비동기적 프로그래밍은 다수의 작업이 동시에 일어나게끔 하는 방식이며, 일반적으로 스레드를 사용하여 비동기 방식을 구현한다. 서버의 관점에서는 클라이언트에게 빠르게 응답을 주고 비동기로 처리함으로서 서버 리소스를 아끼거나, 외부 API 요청에 대한 응답 시간 의존성을 줄이기 위해 사용된다.

### 블로킹과 논블로킹이 무엇인지에 대해 설명해보세요.

블로킹은 특정한 작업을 진행하다가 다른 작업이 시작되면 멈췄다가 다른 작업이 완료되면 시작하는 것.
논블로킹은 다른 작업을 실행하더라도 상관없이 본인의 작업을 계속해서 진행.

동기/비동기와의 차이점은, 블로킹은 코드 실행에 대한 제어권이 현재 실행중인 단계에 있다는 것이다.
